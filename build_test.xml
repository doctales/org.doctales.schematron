<?xml version="1.0" encoding="UTF-8"?>
<!-- 
  Copyright 2017 DOCTALES. All rights reserved.
  See the accompanying LICENSE file for applicable license.
-->
<project default="test">

    <import file="build_taskdef_ph-schematron.xml"/>
    <import file="build_taskdef_ant-contrib.xml"/>

    <xmlcatalog id="dita.catalog">
        <catalogpath path="${user.home}/workspace/DITA/dita-ot/plugins/org.dita.base/catalog-dita.xml"/>
    </xmlcatalog>

    <target name="test">
        <schematron
            schematronFile="${basedir}/rules/topic-validation.sch"
            expectSuccess="true"
            schematronProcessingEngine="xslt">
            <fileset dir="${basedir}">
                <include name="samples/topic.dita"/>
            </fileset>
            <xmlcatalog refid="dita.catalog"/>
        </schematron>
    </target>
</project>